{"ast":null,"code":"export const addItem = (item, next) => {\n  let cart = [];\n\n  if (window !== 'undefined') {\n    if (localStorage.getItem('cart')) {\n      cart = JSON.parse(localStorage.getItem('cart'));\n    }\n\n    cart.push({ ...item,\n      count: 1\n    });\n    cart = Array.from(new Set(cart.map(p => p._id))).map(id => {\n      return cart.find(p => p._id === id);\n    });\n    localStorage.setItem('cart', JSON.stringify(cart));\n    next();\n  }\n};\nexport const itemsTotal = () => {\n  if (typeof window !== 'undefined') {\n    if (localStorage.getItem('cart')) {\n      return JSON.parse(localStorage.getItem('cart')).length;\n    }\n  }\n\n  return 0;\n};\nexport const getitemsFromCart = () => {\n  if (typeof window !== 'undefined') {\n    if (localStorage.getItem('cart')) {\n      return JSON.parse(localStorage.getItem('cart'));\n    }\n  }\n\n  return [];\n};","map":{"version":3,"sources":["C:/mern-ecommerce/react-nodejs-ecommerce-app/ecommerce-frontend/src/core/cartHelpers.js"],"names":["addItem","item","next","cart","window","localStorage","getItem","JSON","parse","push","count","Array","from","Set","map","p","_id","id","find","setItem","stringify","itemsTotal","length","getitemsFromCart"],"mappings":"AAAA,OAAO,MAAMA,OAAO,GAAG,CAACC,IAAD,EAAMC,IAAN,KAAc;AAEjC,MAAIC,IAAI,GAAG,EAAX;;AAEA,MAAGC,MAAM,KAAK,WAAd,EAA0B;AACtB,QAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,EAAgC;AAC5BH,MAAAA,IAAI,GAAGI,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAP;AACH;;AAEDH,IAAAA,IAAI,CAACM,IAAL,CAAU,EACN,GAAGR,IADG;AAENS,MAAAA,KAAK,EAAE;AAFD,KAAV;AAKAP,IAAAA,IAAI,GAAGQ,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQV,IAAI,CAACW,GAAL,CAAUC,CAAD,IAAMA,CAAC,CAACC,GAAjB,CAAR,CAAX,EAA4CF,GAA5C,CAAgDG,EAAE,IAAG;AACxD,aAAOd,IAAI,CAACe,IAAL,CAAUH,CAAC,IAAEA,CAAC,CAACC,GAAF,KAAUC,EAAvB,CAAP;AACH,KAFM,CAAP;AAIAZ,IAAAA,YAAY,CAACc,OAAb,CAAqB,MAArB,EAA4BZ,IAAI,CAACa,SAAL,CAAejB,IAAf,CAA5B;AAEAD,IAAAA,IAAI;AAEP;AAEJ,CAxBM;AA0BP,OAAO,MAAMmB,UAAU,GAAG,MAAK;AAC3B,MAAG,OAAOjB,MAAP,KAAkB,WAArB,EAAiC;AAC7B,QAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,EAAgC;AAC5B,aAAOC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCgB,MAAhD;AACH;AACJ;;AACD,SAAO,CAAP;AACH,CAPM;AASP,OAAO,MAAMC,gBAAgB,GAAG,MAAK;AACjC,MAAG,OAAOnB,MAAP,KAAkB,WAArB,EAAiC;AAC7B,QAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,EAAgC;AAC5B,aAAOC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAP;AACH;AACJ;;AACD,SAAO,EAAP;AACH,CAPM","sourcesContent":["export const addItem = (item,next) =>{\r\n\r\n    let cart = []\r\n\r\n    if(window !== 'undefined'){\r\n        if(localStorage.getItem('cart')){\r\n            cart = JSON.parse(localStorage.getItem('cart'))\r\n        }\r\n\r\n        cart.push({\r\n            ...item,\r\n            count: 1\r\n        })\r\n\r\n        cart = Array.from(new Set(cart.map((p)=>(p._id)))).map(id =>{\r\n            return cart.find(p=>p._id === id)\r\n        })\r\n\r\n        localStorage.setItem('cart',JSON.stringify(cart))\r\n\r\n        next()\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const itemsTotal = () =>{\r\n    if(typeof window !== 'undefined'){\r\n        if(localStorage.getItem('cart')){\r\n            return JSON.parse(localStorage.getItem('cart')).length\r\n        }        \r\n    }\r\n    return 0\r\n}\r\n\r\nexport const getitemsFromCart = () =>{\r\n    if(typeof window !== 'undefined'){\r\n        if(localStorage.getItem('cart')){\r\n            return JSON.parse(localStorage.getItem('cart'))\r\n        }        \r\n    }\r\n    return []\r\n}"]},"metadata":{},"sourceType":"module"}