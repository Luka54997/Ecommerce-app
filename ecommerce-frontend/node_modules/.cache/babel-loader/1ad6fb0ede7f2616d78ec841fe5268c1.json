{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\mern-ecommerce\\\\react-nodejs-ecommerce-app\\\\ecommerce-frontend\\\\src\\\\admin\\\\AddProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Layout from '../core/Layout';\nimport { isAuthenticated } from '../auth/auth';\nimport { createProduct, getCategories } from './apiAdmin';\n\nconst AddProduct = () => {\n  _s();\n\n  const {\n    user,\n    token\n  } = isAuthenticated();\n  const [values, setValues] = useState({\n    name: '',\n    description: '',\n    price: '',\n    categories: [],\n    category: '',\n    shipping: '',\n    quantity: '',\n    photo: '',\n    loading: false,\n    error: '',\n    createdProduct: '',\n    redirectToProfile: false,\n    formData: ''\n  });\n  const {\n    name,\n    description,\n    price,\n    categories,\n    category,\n    shipping,\n    quantity,\n    photo,\n    loading,\n    error,\n    createdProduct,\n    redirectToProfile,\n    formData\n  } = values;\n\n  const init = () => {\n    getCategories().then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: data.error\n        });\n      } else {\n        setValues({ ...values,\n          categories: data,\n          formData: new FormData()\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  const handleChange = name => event => {\n    const value = name === 'photo' ? event.target.files[0] : event.target.value;\n    formData.set(name, value);\n    setValues({ ...values,\n      [name]: value\n    });\n  };\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values,\n      error: '',\n      loading: true\n    });\n    createProduct(user._id, token, formData).then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: data.error\n        });\n      } else {\n        setValues({ ...values,\n          name: '',\n          description: '',\n          photo: '',\n          price: '',\n          quantity: '',\n          loading: false,\n          createdProduct: data.name\n        });\n      }\n    });\n  };\n\n  const showError = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      style: {\n        display: error ? '' : 'none'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this);\n  };\n\n  const showSuccess = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-info\",\n      style: {\n        display: createdProduct ? '' : 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: `${createdProduct} is successfully created`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this);\n  };\n\n  const showLoading = () => {\n    return loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-success\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 62\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }, this);\n  };\n\n  const newPostForm = () => {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"mb-5\",\n      onSubmit: clickSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Post Photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"btn btn-secondary\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange('photo'),\n            type: \"file\",\n            name: \"photo\",\n            accept: \"image/*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted\",\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange('name'),\n          type: \"text\",\n          className: \"form-control\",\n          value: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          onChange: handleChange('description'),\n          className: \"form-control\",\n          value: description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted\",\n          children: \"Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange('price'),\n          type: \"number\",\n          className: \"form-control\",\n          value: price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted\",\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: handleChange('category'),\n          className: \"form-control\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Please Select\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this), categories && categories.map((c, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: c._id,\n            children: c.name\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted\",\n          children: \"Quantity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange('quantity'),\n          type: \"number\",\n          className: \"form-control\",\n          value: quantity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-muted\",\n          children: \"Shipping\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: handleChange('shipping'),\n          className: \"form-control\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"0\",\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"1\",\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-btn-outline-primary\",\n        children: \"Create Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    title: \"Dashboard\",\n    description: `Hello ${user.name}`,\n    className: \"container-fluid\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4 offset-md-4\",\n        children: [JSON.stringify(values.name), showLoading(), showSuccess(), showError(), newPostForm()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddProduct, \"8QJmQ2hRRY2WLllz+rYP/7wsWJ0=\");\n\n_c = AddProduct;\nexport default AddProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"sources":["C:/mern-ecommerce/react-nodejs-ecommerce-app/ecommerce-frontend/src/admin/AddProduct.js"],"names":["React","useState","useEffect","Link","Layout","isAuthenticated","createProduct","getCategories","AddProduct","user","token","values","setValues","name","description","price","categories","category","shipping","quantity","photo","loading","error","createdProduct","redirectToProfile","formData","init","then","data","FormData","handleChange","event","value","target","files","set","clickSubmit","preventDefault","_id","showError","display","showSuccess","showLoading","newPostForm","map","c","i","JSON","stringify"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport Layout from '../core/Layout'\nimport {isAuthenticated} from '../auth/auth'\nimport {createProduct,getCategories} from './apiAdmin'\n\n\nconst AddProduct = () =>{\n\n    const {user,token} = isAuthenticated()\n\n    const [values,setValues] = useState({\n        name:'',\n        description: '',\n        price: '',\n        categories : [],\n        category: '',\n        shipping: '',\n        quantity: '',\n        photo: '',\n        loading: false,\n        error: '',\n        createdProduct: '',\n        redirectToProfile: false,\n        formData:''\n    })\n\n    const {\n    name,\n    description,\n    price,\n    categories,\n    category,\n    shipping,\n    quantity,\n    photo,\n    loading,\n    error,\n    createdProduct,\n    redirectToProfile,\n    formData\n} = values\n\nconst init = () => {\n    getCategories().then(data => {\n        if (data.error) {\n            setValues({ ...values, error: data.error });\n        } else {\n            setValues({\n                ...values,\n                categories: data,\n                formData: new FormData()\n            })\n        }\n    })\n}\n\nuseEffect(()=>{\n    init()\n},[])\n\nconst handleChange = name => event =>{\n    const value = name === 'photo' ? event.target.files[0] : event.target.value\n    formData.set(name,value)\n    setValues({...values,[name]:value})\n}\n\nconst clickSubmit = (event) =>{\n    event.preventDefault()\n    setValues({...values,error:'',loading:true})\n    createProduct(user._id,token,formData)\n    .then(data=>{\n        if(data.error){\n            setValues({...values,error:data.error})\n        }else{\n            setValues({...values,name:'',description:'',photo:'',price:'',quantity:'',loading:false,createdProduct:data.name})    \n        }\n    })\n}\n\n    const showError = () =>{\n        return(\n        <div className=\"alert alert-danger\" style={{display:error ? '' : 'none' }}>{error}</div>\n        )\n    }\n    const showSuccess = () =>{\n        return(\n        <div className=\"alert alert-info\" style={{display:createdProduct ? '' : 'none' }}>\n            <h2>{`${createdProduct} is successfully created`}</h2>\n        </div>\n        )\n    }\n\n    const showLoading = () =>{\n        return(\n            loading && (<div className='alert alert-success'><h2>Loading...</h2></div>)\n        )\n    }\n\n    const newPostForm = () =>{\n        return(\n            <form className=\"mb-5\" onSubmit={clickSubmit}>\n                <h4>Post Photo</h4>\n                <div className='form-group'>\n                    <label className='btn btn-secondary' >\n                        <input onChange={handleChange('photo')} type='file' name='photo' accept='image/*'></input>\n                    </label>\n                </div>\n                <div className='form-group'>\n                    <label className='text-muted'>Name</label>\n                    <input onChange={handleChange('name')} type='text' className='form-control' value={name}></input>\n                </div>\n\n                <div className='form-group'>\n                    <label className='text-muted'>Description</label>\n                    <textarea onChange={handleChange('description')}  className='form-control' value={description}></textarea>\n                </div>\n\n                <div className='form-group'>\n                    <label className='text-muted'>Price</label>\n                    <input onChange={handleChange('price')} type='number'  className='form-control' value={price}></input>\n                </div>\n\n                <div className='form-group'>\n                    <label className='text-muted'>Category</label>\n                    <select onChange={handleChange('category')}   className='form-control' >\n                        <option>Please Select</option>\n                        {categories && categories.map((c,i) =>(\n                            <option key={i} value={c._id}>{c.name}</option>\n                            \n                        ))}\n                        \n                    </select>\n                </div>\n\n                <div className='form-group'>\n                    <label className='text-muted'>Quantity</label>\n                    <input onChange={handleChange('quantity')} type='number' className='form-control' value={quantity}></input>\n                </div>\n\n                <div className='form-group'>\n                    <label className='text-muted'>Shipping</label>\n                    <select onChange={handleChange('shipping')}   className='form-control' >\n                        <option value='0'>No</option>\n                        <option value='1'>Yes</option>\n                    </select>\n                </div>\n\n                <button className='btn-btn-outline-primary'>Create Product</button>\n\n            </form>\n        )\n    }\n\n    return (\n        <Layout title=\"Dashboard\" description={`Hello ${user.name}`} className=\"container-fluid\">      \n\n\n        <div className=\"row\">\n            \n            <div className=\"col-md-4 offset-md-4\">\n                {JSON.stringify(values.name)}\n                {showLoading()}\n                {showSuccess()}\n                {showError()}\n                {newPostForm()}\n            </div>\n        </div>\n        \n            \n        \n         \n        </Layout>\n    )\n\n}\n\nexport default AddProduct\n\n"]},"metadata":{},"sourceType":"module"}